<?xml version="1.0" encoding="utf-8"?>
<odoo>

<template id="wysiwyg_iframe_css_assets" name="CSS assets for wysiwyg iframe content">
    <t t-call-assets="web.assets_common" t-js="false"/>
    <t t-call-assets="web.assets_backend" t-js="false"/>
</template>

<template id="wysiwyg" name="Wysiwyg Editor">
    <!-- lib -->

    <link rel="stylesheet" type="text/css" href="/web_editor/static/lib/summernote/summernote.css"/>

    <script type="text/javascript" src="/web_editor/static/lib/summernote/summernote.js"/>
    <script type="text/javascript" src="/web_editor/static/lib/cropper/js/cropper.js"/>
    <script type="text/javascript" src="/web_editor/static/lib/jQuery.transfo.js"/>

    <!-- inegration -->

    <link rel="stylesheet" type="text/scss" href="/web_editor/static/src/scss/wysiwyg.scss"/>
    <link rel="stylesheet" type="text/scss" href="/web_editor/static/src/scss/wysiwyg_iframe.scss"/>

    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/wysiwyg.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/wysiwyg_iframe.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/plugin/plugin_registry.js"/>

    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/translation.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/fonts.js"/>

    <!-- widgets & plugins -->

    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/widgets/media.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/widgets/dialog.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/widgets/alt_dialog.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/widgets/colorpicker_dialog.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/widgets/crop_dialog.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/widgets/link_dialog.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/widgets/media_dialog.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/widgets/widgets.js"/>

    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/plugin/abstract.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/plugin/plugins.js"/>

    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/plugin/editor.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/plugin/media.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/plugin/buttons.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/plugin/link.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/plugin/font.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/plugin/font_buttons.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/plugin/unbreakable.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg/plugin/transform.js"/>
</template>

<template id="wysiwyg_snippets" inherit_id="web_editor.wysiwyg" name="Wysiwyg Editor additional snippets">
    <xpath expr="." position="inside">
        <link rel="stylesheet" type="text/scss" href="/web_editor/static/src/scss/wysiwyg_snippets.scss"/>

        <script type="text/javascript" src="/web_editor/static/lib/nearest/jquery.nearest.js"/>

        <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg_snippets/wysiwyg_snippets.js"/>
        <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg_snippets/snippets.editor.js"/>
        <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg_snippets/snippets.options.js"/>
    </xpath>
</template>

<template id="_assets_primary_variables" inherit_id="web._assets_primary_variables">
    <xpath expr="//link[last()]" position="after">
        <link rel="stylesheet" type="text/scss" href="/web_editor/static/src/scss/web_editor.variables.scss"/>
    </xpath>
</template>

<template id="assets_common" inherit_id="web.assets_common" name="Web Editor Common Assets (used in backend interface and website)">
    <xpath expr="script[last()]" position="after">
        <script type="text/javascript" src="/web_editor/static/lib/vkbeautify/vkbeautify.0.99.00.beta.js"/>
        <script type="text/javascript" src="/web_editor/static/src/js/common/ace.js"/>
        <t t-call="web_editor.wysiwyg"/>
    </xpath>
</template>

<template id="_assets_backend_helpers" inherit_id="web._assets_backend_helpers">
    <xpath expr="//link[last()]" position="after">
        <link rel="stylesheet" type="text/scss" href="/web_editor/static/src/scss/bootstrap_overridden.scss"/>
    </xpath>
</template>

<template id="assets_backend" inherit_id="web.assets_backend" name="Web Editor Backend Assets (used in backend interface)">
    <xpath expr="link[last()]" position="after">
        <link rel="stylesheet" type="text/scss" href="/web_editor/static/src/scss/web_editor.common.scss"/> <!-- not in common because compiled differently with context -->
        <link rel="stylesheet" type="text/scss" href="/web_editor/static/src/scss/web_editor.backend.scss"/>
    </xpath>
    <xpath expr="script[last()]" position="after">
        <script type="text/javascript" src="/web_editor/static/src/js/backend/field_html.js" />
        <script type="text/javascript" src="/web_editor/static/src/js/backend/transcoder.js"/>
        <script type="text/javascript" src="/web_editor/static/src/js/backend/wysiwyg_inline.js"/>
    </xpath>
</template>

<template id="_assets_frontend_helpers" inherit_id="web._assets_frontend_helpers">
    <xpath expr="//link[last()]" position="after">
        <link rel="stylesheet" type="text/scss" href="/web_editor/static/src/scss/bootstrap_overridden.scss"/>
    </xpath>
</template>

<template id="assets_frontend" inherit_id="web.assets_frontend" name="Web Editor Frontend Assets (used in public odoo)" priority="15">
    <xpath expr="//link[last()]" position="after">
        <link rel="stylesheet" type="text/scss" href="/web_editor/static/src/scss/web_editor.common.scss"/> <!-- not in common because compiled differently with context -->
    </xpath>
    <xpath expr="//script[last()]" position="after">
        <script type="text/javascript" src="/web_editor/static/src/js/frontend/base.js"/>
        <script type="text/javascript" src="/web_editor/static/src/js/frontend/context.js"/>
        <script type="text/javascript" src="/web_editor/static/src/js/frontend/ready.js"/>
        <script type="text/javascript" src="/web_editor/static/src/js/content/body_manager.js"/>
        <script type="text/javascript" src="/web_editor/static/src/js/root_widget.js"/>
    </xpath>
</template>

<template id="assets_editor" name="Web Editor Assets (used in private and public editor)">
    <t t-call="web._assets_helpers"/>

    <link rel="stylesheet" type="text/scss" href="/web_editor/static/src/scss/web_editor.ui.scss"/>
    <link rel="stylesheet" type="text/scss" href="/web_editor/static/src/scss/wysiwyg_multizone.scss"/>

    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg_multizone/wysiwyg_multizone.js"/>
    <script type="text/javascript" src="/web_editor/static/src/js/wysiwyg_multizone/wysiwyg_multizone_translate.js"/>
</template>

<template id="js_tests_assets" inherit_id="web.js_tests_assets">
    <xpath expr="." position="inside">
        <t t-call-assets="web_editor.assets_editor" t-css="false"/>
    </xpath>
</template>
<template id="qunit_suite" inherit_id="web.qunit_suite">
    <xpath expr="." position="inside">
        <script type="text/javascript" src="/web_editor/static/tests/web_editor_tests.js"/>
    </xpath>
</template>

<!--
    The web_editor.colorpicker template regroups section of colorpicker menu for website customization
    (text foreground/background but also snippet background color option).
    As it is presentend below, the colorpicker tag regroups a set of .o_colorpicker_section with name,
    icon-class and icon-content as data. These will be used to build the colorpicker dropdowns.

    Redefinition can edit section content, add sections or even remove them. If no section is found when
    building a colorpicker dropdown, the template content will be used without changes as the colorpicker
    dropdown content.

    Sections should contain a set of button with a data-color attribute. When selecting such a button to
    edit style, the "bg-x" class or the "text-x" will be automatically added.
-->
<template id="web_editor.colorpicker" name="Color-Picker">
    <colorpicker>
        <div class="o_colorpicker_section" data-name="theme" data-display="Theme Colors" data-icon-class="fa fa-flask">
            <button data-color="alpha"></button>
            <button data-color="beta"></button>
            <button data-color="gamma"></button>
            <button data-color="delta"></button>
            <button data-color="epsilon"></button>
        </div>
        <div class="o_colorpicker_section" data-name="transparent_grayscale" data-display="Transparent Colors" data-icon-class="fa fa-eye-slash">
            <button class="o_btn_transparent"></button>
            <button data-color="black-25"></button>
            <button data-color="black-50"></button>
            <button data-color="black-75"></button>
            <button data-color="white-25"></button>
            <button data-color="white-50"></button>
            <button data-color="white-75"></button>
        </div>
        <div class="o_colorpicker_section" data-name="common" data-display="Common Colors" data-icon-class="fa fa-paint-brush"></div>
    </colorpicker>
</template>
</odoo>
